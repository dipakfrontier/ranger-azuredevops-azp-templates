---
parameters:
  - name: pipelineCounter
    type: string
  - name: versionFromFile
    type: string
  - name: versionLabel
    type: string

steps:
  - pwsh: |
      $Version = "${{ parameters.versionFromFile }}.${{ parameters.pipelineCounter }}${{ parameters.versionLabel }}"
      Write-Host "$Version"
      Write-Host "##vso[task.setvariable variable=version]$Version"
      Write-Host "##vso[task.setvariable variable=version;isOutput=true]$Version"
    name: setVersionVariable
    displayName: Set version variable
